<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peliculas</title>
</head>
<body>
    <h1>Gestion de peliculas</h1>
    <hr>
    <form id="form-peliculas">
        <input type="text" id="nombre" placeholder="Ingrese el nombre de la categoria">
        <input type="text" id="descripcion" placeholder="Ingrese la descripcion de la categoria">
        <input type="text" id="codigo" placeholder="Ingrese el codigo de la categoria">
        <button type="submit">Agregar Categoria</button>
    </form>
</body>
<script type="module">
    
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    // para conectarse al base de datos de firebase
    import{getFirestore, collection,addDoc,onSnapshot,deleteDoc,Doc} from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"
    const firebaseConfig = {
  apiKey: "AIzaSyB8QtPAjuzTuEq-UhJFdHwwO4640s87JzI",
  authDomain: "peliculas-ab6f0.firebaseapp.com",
  projectId: "peliculas-ab6f0",
  storageBucket: "peliculas-ab6f0.appspot.com",
  messagingSenderId: "844654346163",
  appId: "1:844654346163:web:8a59dae7b3a6d988f895c6",
  measurementId: "G-E045355JFK"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
//conexion a la base de datos
const basedatos = getFirestore(app);

const pelifrom = document.getElementById("form-peliculas");

pelifrom.addEventListener("submit", async(e) =>{e.preventDefault(); await addDoc(collection(basedatos,"peliculas"),
{nombre: pelifrom.nombre.value, descripcion: pelifrom.descripcion.value, codigo: pelifrom.codigo.value});
pelifrom.reset();
});

  </script>

</html>